<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TerraRisk - Inscription</title>
    <link rel="stylesheet" href="CSS/style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="CSS/inscription.css">
    <link rel="stylesheet" href="CSS/navbar.css">
    <link href="https://fonts.googleapis.com/css2?family=Leckerli+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Leckerli+One&display=swap" rel="stylesheet">
    <style>
        
        .custom-title {
            font-family: 'Leckerli One', cursive;
            font-size: 2em;
        }
    </style>
</head>
<header>
    <nav class="navbar navbar-expand-lg navbar">
      <div class="container-fluid position-relative">
        <a class="navbar-brand navbar-brand-center">TerraRisk</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link  " aria-current="page" href="Accueil.html">Accueil</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="Mesrisquesproche.html">Mes risques proches</a>
            </li>
          </ul>
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="monprofil.html">Connexion</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>
<body>
    <div class="container mt-5">
        <h2 class="custom-title mb-4">Veuillez vous inscrire</h2>
        <form id="myForm">
            <div class="form-group">
                <label for="nom">Nom</label>
                <input type="text" class="form-control" id="nom" placeholder="Entrez votre nom" required>
            </div>
            <div class="form-group">
                <label for="prenom">Prénom</label>
                <input type="text" class="form-control" id="prenom" placeholder="Entrez votre prénom" required>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" placeholder="Entrez votre adresse email" required>
            </div>
            <div class="form-group">
                <label for="pays">Pays d'origine</label>
                <input type="text" class="form-control" id="pays" placeholder="Entrez votre pays d'origine">
            </div>
            <div class="form-group">
                <label for="departement">Département</label>
                <input type="text" class="form-control" id="departement" placeholder="Entrez votre département">
            </div>
            <div class="form-group">
                <label for="numeros">Numéro de téléphone</label>
                <input type="tel" class="form-control" id="numeros" placeholder="Entrez votre numéro de téléphone">
            </div>
            <div class="form-group">
                <label for="password">Mot de passe</label>
                <input type="password" class="form-control" id="password" placeholder="Entrez votre mot de passe" required>
                <small class="form-text text-muted">
                    Votre mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre.
                </small>
            </div>
            <div class="form-group">
                <label for="password2">Confirmer le mot de passe</label>
                <input type="password" class="form-control" id="password2" placeholder="Confirmez votre mot de passe" required>
            </div>
            <div class="form-check mb-3">
                <input type="checkbox" class="form-check-input" id="Check1" required>
                <label class="form-check-label" for="Check1">Accepter les conditions d'utilisation</label>
            </div>
            <button type="submit" class="btn btn-primary mr-2">Soumettre</button>
            <button type="button" class="btn btn-secondary" id="resetButton">Réinitialiser</button>
        </form>
        <p id="errorMessage" style="color: red;"></p>
    </div>
    <footer>
        <div>
            <ul class="list-inline">
                <li class="list-inline-item"><a href="mentionlegal.html" target="_self" title="mentionlegal">Mentions légales</a></li>
                <li class="list-inline-item"><a href="conditionutil.html" target="_self" title="conditionutil">Condition d'utilisation</a></li>
                <li class="list-inline-item"><a href="politiqueconfid.html" target="_self" title="politiqueconfid">Politique de confidentialité</a></li>
                <li class="list-inline-item"><a href="noscontact.html" target="_self" title="noscontact">Contacts</a></li>
                <li class="list-inline-item"><a href="remerciment.html" target="_self" title="remerciment">Remerciment</a></li>
            </ul>
        </div>
    </footer>
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
   
    <script>
        document.getElementById('myForm').addEventListener('submit', function (event) {
            event.preventDefault();

            var nom = document.getElementById('nom').value;
            var prenom = document.getElementById('prenom').value;
            var email = document.getElementById('email').value;
            var pays = document.getElementById('pays').value;
            var departement = document.getElementById('departement').value;
            var numeros = document.getElementById('numeros').value;
            var password = document.getElementById('password').value;
            var password2 = document.getElementById('password2').value;
            var errorMessage = document.getElementById('errorMessage');

            if (validateEmail(email) && validatePassword(password) && passwordsMatch(password, password2)) {
                localStorage.setItem('nom', nom);
                localStorage.setItem('prenom', prenom);
                localStorage.setItem('email', email);
                localStorage.setItem('pays', pays);
                localStorage.setItem('departement', departement);
                localStorage.setItem('numeros', numeros);
                localStorage.setItem('password', password);
                window.location.href = "profil.html";
            } else {
                errorMessage.textContent = 'Veuillez entrer un email et un mot de passe valides, et vous assurer que les mots de passe correspondent.';
            }
        });

        document.getElementById('resetButton').addEventListener('click', function () {
            document.getElementById('myForm').reset();
            document.getElementById('errorMessage').textContent = '';
        });

        function validateEmail(email) {
            var re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function validatePassword(password) {
            var re = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;
            return re.test(password);
        }

        function passwordsMatch(password, password2) {
            if (password !== password2) {
                document.getElementById('errorMessage').textContent = 'Les mots de passe ne correspondent pas.';
                return false;
            }
            return true;
        }
    </script>
</body>

</html>
